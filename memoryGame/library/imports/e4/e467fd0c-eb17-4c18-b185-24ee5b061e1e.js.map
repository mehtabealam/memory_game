{"version":3,"sources":["assets/scripts/managers/AdManager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class AdManager extends cc.Component {\n\n    delegate : null;\n\n    private static _instance : AdManager = null!;\n    public static getInstance(){\n        if(!AdManager._instance){\n            AdManager._instance = new AdManager();\n        }\n        return AdManager._instance;\n    }\n\n\n    public init(){  \n      sdkbox.PluginAdMob.init();\n      sdkbox.PluginAdMob.setListener(this);\n      let target = this;\n      sdkbox.PluginAdMob.setListener({\n        adViewDidReceiveAd: function(name) {\n            console.log(\"add has been loaded\", name)\n            // if(name == 'banner'){\n            //     target.showBanner();\n            // }\n        },\n        adViewDidFailToReceiveAdWithError: function(name, msg) {\n            // target.showInfo('adViewDidFailToReceiveAdWithError name=' + name + ' msg=' + msg);\n        },\n        adViewWillPresentScreen: function(name) {\n            console.log(\"adViewWillPresentScreen game \", name)\n        },\n        adViewDidDismissScreen: function(name) {\n            console.log(\"adViewDidDismissScreen game \", name)\n            target.delegate.adHasbeenShown();\n            // target.showInfo('adViewDidDismissScreen name=' + name);\n        },\n        adViewWillDismissScreen: function(name) {\n            console.log(\"back game \", name)\n            // target.showInfo('adViewWillDismissScreen=' + name);\n        },\n        adViewWillLeaveApplication: function(name) {\n            console.log(\"adViewWillLeaveApplication game \", name)\n        }\n    });\n\n    }\n    public cacheAds(adName){\n        sdkbox.PluginAdMob.cache(adName);\n    }\n\n    public setTestDevice(device :string){\n        sdkbox.PluginAdMob.setTestDevices(device);\n    }\n\n    public showBanner(){\n        console.log(\"show banner ads\");\n       if(sdkbox.PluginAdMob.isAvailable('banner')){\n        sdkbox.PluginAdMob.show('banner');\n        console.log(\"show banner ads\");\n       }else{\n        console.log(\"not avilable banner ads\");\n        sdkbox.PluginAdMob.cache('banner');\n       } \n    }\n\n    public showInterstital(inforeToNode){\n        this.delegate = inforeToNode;\n        if(sdkbox.PluginAdMob.isAvailable('gameover')){\n            sdkbox.PluginAdMob.show('gameover');\n              return true;\n           }else{\n               console.log(\"chacheing add\");\n               sdkbox.PluginAdMob.cache('gameover');\n               return false;\n           } \n       \n    }\n\n    public isAdAvailable(){\n        if(sdkbox.PluginAdMob.isAvailable('gameover')){\n            return true;\n        }else{\n            sdkbox.PluginAdMob.cache('gameover');\n            return false;\n        }\n    }\n}\n"]}