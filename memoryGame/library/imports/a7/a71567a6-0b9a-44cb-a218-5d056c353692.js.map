{"version":3,"sources":["assets/scripts/managers/FacebookAudiance.js"],"names":["LIVE_STATUS","UNKNOWN","INITIALIZING","RUNNING","PAUSED","STOPPED","COMPLETED","PLACEMENT_IDS","ANDROID","BANNER","INTERSTITIAL","REWARDEDVIDEO","IOS","cc","Class","Component","onLoad","sys","isBrowser","placementId","log","platform","IPAD","IPHONE","schedule","loadInterstitial","macro","REPEAT_FOREVER","showBanner","event","banner","Ads","Banner","BANNER_POSITION","ALIGN_PARENT_BOTTOM","on","node","eCode","console","show","then","e","destryBanner","destroy","interstital","Interstitial","error","loadAd","isInterstitialLoaded","showInterstital"],"mappings":"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","sourceRoot":"/","sourcesContent":["let LIVE_STATUS = {\n    UNKNOWN: 0,\n    INITIALIZING: 1,\n    RUNNING: 2,\n    PAUSED: 3,\n    STOPPED: 4,\n    COMPLETED: 5,\n};\n\nlet PLACEMENT_IDS = {\n    ANDROID: {\n        BANNER: \"854006105330177_900427447354709\",\n        INTERSTITIAL: '854006105330177_898749927522461',\n        REWARDEDVIDEO: 'YOUR_PLACEMENT_ID'\n    },\n    IOS: {\n        BANNER: \"IMG_16_9_APP_INSTALL#YOUR_PLACEMENT_ID\",\n        INTERSTITIAL: 'IMG_16_9_APP_INSTALL#YOUR_PLACEMENT_ID',\n        REWARDEDVIDEO: 'YOUR_PLACEMENT_ID'\n    }\n};\ncc.Class({\n    extends: cc.Component,\n    onLoad () {\n        //skip ads on browsers\n        if(cc.sys.isBrowser)\n            return;\n\n        this.placementId = PLACEMENT_IDS.ANDROID;\n\n        cc.log(\"platform is \",cc.sys.platform,cc.sys.IPAD);\n        if (cc.sys.platform === cc.sys.IPHONE || cc.sys.platform === cc.sys.IPAD) {\n            this.placementId = PLACEMENT_IDS.IOS;\n        }\n        this.schedule(this.loadInterstitial, 5, cc.macro.REPEAT_FOREVER, 0);\n    },\n\n    showBanner(event){\n        //skip ads on browsers\n        if(cc.sys.isBrowser)\n            return;\n\n        let banner = new cc.Ads.Banner(this.placementId.BANNER,cc.Ads.BANNER_POSITION.ALIGN_PARENT_BOTTOM);\n        this.banner = banner;\n        banner.on(\"onAdLoaded\", () => {\n            cc.log(\"banner onAdLoaded\");\n        }, this.node);\n\n        banner.on(\"onError\", (eCode) => {\n            console.log(\"banner onError\", eCode);\n        }, this.node);\n\n        banner.on(\"onAdClicked\", () => {\n            cc.log(\"banner onAdClicked\");\n        }, this.node);\n\n        banner.show().then(() => {\n            cc.log(\"banner show-------\");\n        }).catch((e) => {\n            cc.log(\"banner reject \", e);\n        });\n    },\n\n    destryBanner(){\n        this.banner.destroy();\n    },\n\n    loadInterstitial(){\n        this.interstital = new cc.Ads.Interstitial(this.placementId.INTERSTITIAL);\n        this.interstital.on(\"onInterstitialDisplayed\", () => {\n            cc.log(\"interstital onInterstitialDisplayed\");\n        });\n\n        this.interstital.on(\"onInterstitialDismissed\", () => {\n            cc.log(\"interstital onInterstitialDismissed\");\n        });\n\n        this.interstital.on(\"onAdClicked\", () => {\n            cc.log(\"interstital onAdClicked\");\n        });\n\n        this.interstital.on(\"onError\",(error)=>{\n            console.log(\"interstital Error:\",error);\n        });\n\n        this.interstital.loadAd().then(() => {\n            this.isInterstitialLoaded = true;\n        }).catch((e) => {\n            cc.log(\"interstital catch\", e);\n        });\n    },\n\n    showInterstital(){\n        //skip ads on browsers\n        if(cc.sys.isBrowser)\n            return;\n        if(this.isInterstitialLoaded){     \n            this.interstital.show();\n        }\n    }\n});\n"]}