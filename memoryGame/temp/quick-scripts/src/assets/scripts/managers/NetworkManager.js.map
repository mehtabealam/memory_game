{"version":3,"sources":["assets/scripts/managers/NetworkManager.ts"],"names":[],"mappings":";;;;;;;AAAA,iDAA6D;AAC7D;IAAA;QAEY,YAAO,GAAY,EAAE,CAAC;IAkClC,CAAC;IAhCU,0BAAW,GAAlB;QACI,IAAG,CAAC,cAAc,CAAC,SAAS,EAAC;YACzB,cAAc,CAAC,SAAS,GAAG,IAAI,cAAc,EAAE,CAAC;SACnD;QACD,OAAO,cAAc,CAAC,SAAS,CAAC;IACpC,CAAC;IAGD,6BAAI,GAAJ;QACI,IAAI,CAAC,OAAO,GAAG,4BAAY,CAAC;IAChC,CAAC;IAED,oCAAW,GAAX,UAAY,GAAW,EAAG,WAAoB,EAAE,KAAW,EAAE,SAAoB,EAAE,OAAiB,EAAC,YAA6B;QAA7B,6BAAA,EAAA,oBAA6B;QAC9H,IAAI,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;QAC/B,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;QAEjC,IAAI,iBAAiB,GAAI;YACrB,IAAG,GAAG,CAAC,UAAU,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC,EAAC;gBAC/D,IAAI,QAAQ,GAAY,GAAG,CAAC,YAAY,CAAC;gBACzC,SAAS,CAAC,QAAQ,CAAC,CAAC;aACvB;iBAAK,IAAG,GAAG,CAAC,UAAU,KAAK,CAAC,EAAC;gBAC1B,IAAI,OAAO,GAAW,GAAG,CAAC,YAAY,CAAC;gBACvC,OAAO,CAAC,OAAO,CAAC,CAAC;aACpB;QACL,CAAC,CAAA;QAED,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;QAC/B,GAAG,CAAC,gBAAgB,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;QACzD,GAAG,CAAC,kBAAkB,GAAG,iBAAiB,CAAC;QAC3C,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QAC5B,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;IACpC,CAAC;IACL,qBAAC;AAAD,CApCA,AAoCC,IAAA;AApCY,wCAAc","file":"","sourceRoot":"/","sourcesContent":["import {DEPLOYMENT_MODE, BASE_ADDRESS} from \"./NetworkConfig\"\nexport class NetworkManager {\n    private static _instance : NetworkManager;\n    private baseUrl : string = \"\";\n\n    static getInstance() : NetworkManager{\n        if(!NetworkManager._instance){\n            NetworkManager._instance = new NetworkManager();\n        }\n        return NetworkManager._instance;       \n    }\n  \n\n    init(){\n        this.baseUrl = BASE_ADDRESS;\n    }\n\n    sendRequest(api: string,  reuqestType : string, param : any, successCb : Function, errorCb :Function,requireToken: boolean = false){\n        let xhr = new XMLHttpRequest();\n        let fullurl = this.baseUrl + api;\n\n        let readyStateChanged  = () =>{\n            if(xhr.readyState === 4 && (xhr.status >= 200 && xhr.status < 300)){\n                let response : string = xhr.responseText;\n                successCb(response);\n            }else if(xhr.readyState === 4){\n                let respone: string = xhr.responseText;\n                errorCb(respone);\n            }\n        }\n        \n        xhr.open(reuqestType, fullurl);\n        xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n        xhr.onreadystatechange = readyStateChanged;\n        console.log(\"param\", param);\n        xhr.send(JSON.stringify(param));\n    }\n}\n\n"]}