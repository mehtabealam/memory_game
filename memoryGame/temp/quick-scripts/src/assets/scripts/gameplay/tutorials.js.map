{"version":3,"sources":["assets/scripts/gameplay/tutorials.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport { GameManager } from \"../managers/GameManager\";\nimport SoundManager from \"../managers/SoundManager\";\n\nconst {ccclass, property} = cc._decorator;\n\n\n@ccclass\nexport default class Tutorial extends cc.Component {\n\n    @property(cc.Label)\n    content : cc.Label = null;\n\n\n    @property(cc.Button)\n    button : cc.Button = null;\n\n    @property(cc.Button)\n    accept : cc.Button = null;\n\n\n    @property(cc.SpriteFrame)\n    bgSpriteFrame : cc.SpriteFrame = null;\n\n\n    @property(cc.Sprite)\n    bg : cc.Sprite = null;\n\n    @property(cc.Node)\n    timePu : cc.Node = null;\n\n    @property(cc.Node)\n    flipPu: cc.Node = null;\n\n    @property(cc.AudioClip)\n    audioClip: cc.AudioClip = null;\n\n    tutorialTexts : string[] =[];\n    slideIndex : number = 0;\n    delegate : cc.Component = null;\n    \n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {}\n     start () {\n    }\n    showMemoriseTime(time){\n        this.tutorialTexts = GameManager.getInstance().getString(\"tutorials\");\n        console.log(\"tutorial text length is \", this.tutorialTexts);\n        let string = this.tutorialTexts[this.slideIndex][`slide${this.slideIndex + 1}`];\n        this.content.string = string.replace(\"%s\", time);\n        \n    }\n    onAccept (){\n        SoundManager.getInstance().playEffect(this.audioClip, false);\n        this.moveToNextSlide();\n    }\n    setDelegate(delegate : cc.Component){\n        this.delegate = delegate;\n    }\n    moveToNextSlide(){\n        switch(this.slideIndex){\n            case 0:\n                this.node.active = false;\n                this.slideIndex++ ;\n                this.delegate.startGame();\n                return;\n            case 1:\n                break;\n            case 2:\n                this.showPowerUp();\n                this.delegate.moveTudHandsOnHints(true);\n                break;\n\n            case 3:\n                this.showPowerUp();\n                this.delegate.moveTudHandsOnHints(false); \n                this.updateUI();\n                  \n                break;\n            default:\n                this.delegate.showGameInstructionPopUp();\n                this.node.removeFromParent(true);\n                return;\n\n\n        }\n        \n        this.updateTutorialText();\n        this.slideIndex++ ;\n\n    \n    }\n    updateUI(){\n        this.bg.spriteFrame = this.bgSpriteFrame;\n        this.button.node.active = true;\n        this.accept.node.active = false;\n    \n    }\n    updateTutorialText(){\n        console.log(\"slide index\",this.slideIndex );\n        this.content.string = this.tutorialTexts[this.slideIndex][`slide${this.slideIndex + 1}`];\n    }\n\n    showTutorials(){\n\n    }\n    showPowerUp(){\n        if(this.slideIndex == 2){\n            this.timePu.active = false;\n            this.flipPu.active = true;\n        }else{\n            this.timePu.active = true;\n            this.flipPu.active = false;\n        }\n\n    }\n\n\n    \n\n\n\n    // update (dt) {}\n}\n"]}