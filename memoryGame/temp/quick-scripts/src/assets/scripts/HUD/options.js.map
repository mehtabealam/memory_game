{"version":3,"sources":["assets/scripts/HUD/options.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\n\nimport {END_POP_UP, GAME_SCREEN} from \"../helper/constants\"\nimport { GameManager } from \"../managers/GameManager\";\n@ccclass\nexport default class Options extends cc.Component {\n\n    private _delegateScript : null;\n  \n    @property(cc.Label)\n    timer: cc.Label = null;\n\n    @property(cc.Label)\n    gameMode: cc.Label = null;\n\n\n    @property(cc.Label)\n    hint: cc.Label = null;\n\n    @property(cc.Label)\n    clues: cc.Label = null;\n\n    @property(cc.Button)\n    clueButton: cc.Button = null;\n\n\n    @property(cc.Button)\n    hintButton: cc.Button = null;  \n\n    start () {\n\n    }\n\n    setDelegate (delegate) {\n        this._delegateScript = delegate;\n        this.updateHindText();\n        \n    }\n\n    updateHindText(){\n        let hintCount = cc.sys.localStorage.getItem(\"hint\");\n        this.hint.string = `${hintCount}`;\n\n        let clueCount = cc.sys.localStorage.getItem(\"clue\");\n        this.clues.string = `${clueCount}`;\n\n        this.clueButton.interactable = true;\n    }\n\n    setUpUI (screen : GAME_SCREEN, gameMode: string) {\n        console.log(\"options\", screen, gameMode);\n        let mode = GameManager.getInstance().getString(gameMode);\n        this.gameMode.string = mode;\n        this.deactiveAllNodes();\n       \n\n        switch(screen){\n            case GAME_SCREEN.HOME:\n                // this.more.node.active = false;\n                break;\n            case GAME_SCREEN.LEVEL_SELECTION:\n                break;\n           case GAME_SCREEN.GAME_PLAY:\n                this.timer.node.active = true;\n                this.gameMode.node.active = true;\n                 break;\n        }\n    }\n\n    deactiveAllNodes (){\n        this.timer.node.active = false;\n        this.gameMode.node.active = false;\n        // this.more.node.active = false;\n    }\n\n\n    updateTimer(time, totalTime){\n        let timeString = GameManager.getInstance().getString(\"time\")\n        timeString = timeString.replace(\"%s\", \"\");\n        this.timer.string = `${timeString}${time}/${totalTime}`;\n    }\n\n\n    onHint(){\n        \n        if(this._delegateScript.isTutorialPlaying()){\n            return;\n        }\n        let hintCount = JSON.parse(cc.sys.localStorage.getItem(\"hint\"));\n        console.log(\"hint\", hintCount);\n        if(hintCount > 0 ){\n            this._delegateScript.playBounsAnimation(true);\n            cc.sys.localStorage.setItem(\"hint\", hintCount-1);\n            this.hint.string = `${hintCount-1}`;\n        }else{\n            this._delegateScript.showHintPopUP(END_POP_UP.FOR_HIT);\n        }\n\n    }\n\n    onClue(){\n        if(this._delegateScript.isTutorialPlaying()){\n            return;\n        }\n        let clueCount = JSON.parse(cc.sys.localStorage.getItem(\"clue\"));\n        if(clueCount > 0 ){\n            cc.sys.localStorage.setItem(\"clue\", clueCount-1);\n            this.clues.string = `${clueCount-1}`;\n            this.clueButton.interactable = false;\n            this._delegateScript.openPairCards();\n            this.clueButton.node.runAction(cc.sequence(cc.delayTime(0.3), cc.callFunc(()=>{\n                this.clueButton.interactable = true;\n            })));\n\n        }else{\n            this._delegateScript.showHintPopUP(END_POP_UP.FOR_CLUE);\n        }\n\n    }\n\n\n    getChildrenPosition(isClue){\n\n        let targetNode = isClue ? this.clueButton.node: this.hintButton.node;\n        return targetNode.getPosition();\n        \n    }\n\n\n    hideIcon(isClue, parent){\n        if(isClue){\n        this.clueButton.node.active = false;\n        this.hintButton.node.active = true;\n        }else{\n            this.clueButton.node.active = true;\n            this.hintButton.node.active = false\n        }\n        if(parent == null){\n            this.clueButton.node.active = true;\n            this.hintButton.node.active = true;\n        }\n\n        // let targetNode = isClue ? this.clueButton.node: this.hintButton.node;\n    }\n\n    // play animtion after enabling the button\n    enableClockButton(){  \n        this.hintButton.getComponent(cc.Animation).play();\n    }\n\n\n     // disable the button and also stop the animation\n    disableClockButton(){\n        this.hintButton.getComponent(cc.Animation).stop();\n        this.hintButton.node.scale = 1;\n\n    }\n\n\n    \n\n  \n\n    \n\n  \n\n\n   \n    \n  \n\n    // update (dt) {}\n}\n"]}